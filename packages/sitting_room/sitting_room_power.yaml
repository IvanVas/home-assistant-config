switch:
  - platform: mqtt
    name: Sitting room shield
    command_topic: "sitting_room_power_strip/cmnd/POWER1"
    availability_topic: "sitting_room_power_strip/tele/LWT"
    state_topic: "sitting_room_power_strip/tele/STATE"
    value_template: "{{value_json.POWER1}}"
    payload_available: "Online"
    payload_not_available: "Offline"
    payload_on: "ON"
    payload_off: "OFF"
  - platform: mqtt
    name: Sitting room speaker
    command_topic: "sitting_room_power_strip/cmnd/POWER2"
    availability_topic: "sitting_room_power_strip/tele/LWT"
    state_topic: "sitting_room_power_strip/tele/STATE"
    value_template: "{{value_json.POWER2}}"
    payload_available: "Online"
    payload_not_available: "Offline"
    payload_on: "ON"
    payload_off: "OFF"
    qos: 1
    retain: true
  - platform: mqtt
    name: Sitting room screen
    command_topic: "sitting_room_power_strip/cmnd/POWER3"
    availability_topic: "sitting_room_power_strip/tele/LWT"
    state_topic: "sitting_room_power_strip/tele/STATE"
    value_template: "{{value_json.POWER3}}"
    payload_available: "Online"
    payload_not_available: "Offline"
    payload_on: "ON"
    payload_off: "OFF"
    qos: 1
    retain: true
  - platform: mqtt
    name: Sitting room usb
    command_topic: "sitting_room_power_strip/cmnd/POWER4"
    availability_topic: "sitting_room_power_strip/tele/LWT"
    state_topic: "sitting_room_power_strip/tele/STATE"
    value_template: "{{value_json.POWER4}}"
    payload_available: "Online"
    payload_not_available: "Offline"
    payload_on: "ON"
    payload_off: "OFF"
    qos: 1
    retain: true
  - platform: template
    switches:
      sitting_room_media:
        friendly_name: Sitting Room Media
        turn_on:
          service: switch.turn_on
          data:
            entity_id: 
                - switch.sitting_room_shield
                - switch.sitting_room_speaker
                - switch.sitting_room_screen
                - switch.sitting_room_usb
        turn_off:
          service: switch.turn_off
          data:
            entity_id: 
                - switch.sitting_room_shield
                - switch.sitting_room_speaker
                - switch.sitting_room_screen
                - switch.sitting_room_usb
